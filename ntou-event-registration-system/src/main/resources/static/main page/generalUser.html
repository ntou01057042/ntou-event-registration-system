<!DOCTYPE html>
<html>

<head>
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"
            integrity="sha256-xLD7nhI62fcsEZK2/v8LsBcb4lG7dgULkuXoXB/j91c=" crossorigin="anonymous"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js"></script>

    <title>海大活動報名系統</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="../main.css" rel="stylesheet" type="text/css">
    <script>
        $.ajax({
            url: "/events",
            type: "GET",
            success: function (response) {
                console.log("success：" + response);
                createCampaign(response);
            }
        });
        function createCampaign(data) {
            let createList = document.getElementById("createList");
            for (let i = 0; i < data.length; i++) {
                let campaign = document.createElement("a");
                campaign.classList.add("list-group-item", "list-group-item-action");
                const options = {
                    weekday: "long",
                    year: "numeric",
                    month: "long",
                    date: "numeric",
                    hour: "2-digit",
                    minute: "2-digit"
                };
                let startTime = new Date(data[i].startTime);
                campaign.textContent = data[i].title + startTime.toLocaleString(undefined, options);
                campaign.addEventListener('click', () => {
                    localStorage.removeItem('eventID');
                    localStorage.setItem('eventID', data[i].id);
                    window.location.assign('../management/eventManagementPage.html',);
                });
                createList.appendChild(campaign);
            }
        }

    </script>
</head>

<body>
<div class="container-fluid p-0 m-0">

    <div id="navbar">
<!--        //上面那一欄-->
    </div>

    <div class="container-fluid">

        <div class="row remaining-space">

            <div class="space col-0 col-lg-1 d-none d-lg-block">
                //左邊空白
            </div>

            <div class="d-flex flex-column col-3 col-lg-2 shadow menu" id="menu">
                //側邊欄
            </div>

            <div class="px-1 m-0 col-9 col-sm-8 col-xl-7">
                //主要內容
            </div>

            <div class="space col-0 col-sm-1  d-none d-sm-block">
                //右邊空白
            </div>

        </div>

    </div>

</div>
</body>

</html>